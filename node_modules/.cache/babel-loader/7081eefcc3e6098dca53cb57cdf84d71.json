{"ast":null,"code":"import _regeneratorRuntime from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/josh/Projects/symbiome/src/views/Home/Home.js\";\nimport React, { useState, useEffect } from 'react';\nimport Introduction from 'components/Introduction';\nimport Ancestral from 'components/Ancestral';\nimport Ingredients from 'components/Ingredients';\nimport Science from 'components/Science';\nimport Journey from 'components/Journey';\nimport Privacy from 'components/Privacy';\nimport Survey, { SURVEY_QUESTIONS } from 'components/Survey';\nimport Symbiome from 'components/Symbiome';\nimport Footer from 'components/Footer';\n\nvar Home = function Home() {\n  // Pull down the surveyId to use\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      surveyId = _useState2[0],\n      setSurveyId = _useState2[1];\n\n  useEffect(function () {\n    try {\n      var getSurveyId =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var response, _ref2, surveys, targets;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return fetch('https://api.symbiome.co/api/v1/surveys?source=postgres');\n\n                case 2:\n                  response = _context.sent;\n\n                  if (!(response.status === 200)) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.next = 6;\n                  return response.json();\n\n                case 6:\n                  _ref2 = _context.sent;\n                  surveys = _ref2.surveys;\n\n                  if (surveys && surveys.length > 0) {\n                    targets = surveys.filter(function (x) {\n                      return x.name === 'Signup Survey';\n                    });\n\n                    if (targets.length === 1) {\n                      setSurveyId(targets[0].source_id);\n                    }\n                  }\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function getSurveyId() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      getSurveyId();\n    } catch (error) {}\n  }, []);\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Introduction, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), React.createElement(Ancestral, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(Ingredients, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(Science, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(Journey, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }), React.createElement(Privacy, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), surveyId && React.createElement(Survey, {\n    surveyId: surveyId,\n    questions: SURVEY_QUESTIONS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }), React.createElement(Symbiome, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/josh/Projects/symbiome/src/views/Home/Home.js"],"names":["React","useState","useEffect","Introduction","Ancestral","Ingredients","Science","Journey","Privacy","Survey","SURVEY_QUESTIONS","Symbiome","Footer","Home","surveyId","setSurveyId","getSurveyId","fetch","response","status","json","surveys","length","targets","filter","x","name","source_id","error"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AAEA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,MAAP,IAAiBC,gBAAjB,QAAyC,mBAAzC;AACA,OAAOC,QAAP,MAAqB,qBAArB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACf;AADe,kBAEiBZ,QAAQ,CAAC,IAAD,CAFzB;AAAA;AAAA,MAERa,QAFQ;AAAA,MAEEC,WAFF;;AAGfb,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI;AAAA,UACec,WADf;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAC2BC,KAAK,CAAC,wDAAD,CADhC;;AAAA;AACUC,kBAAAA,QADV;;AAAA,wBAEQA,QAAQ,CAACC,MAAT,KAAoB,GAF5B;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAGgCD,QAAQ,CAACE,IAAT,EAHhC;;AAAA;AAAA;AAGeC,kBAAAA,OAHf,SAGeA,OAHf;;AAIQ,sBAAIA,OAAO,IAAIA,OAAO,CAACC,MAAR,GAAiB,CAAhC,EAAmC;AACzBC,oBAAAA,OADyB,GACfF,OAAO,CAACG,MAAR,CAAe,UAAAC,CAAC;AAAA,6BAAIA,CAAC,CAACC,IAAF,KAAW,eAAf;AAAA,qBAAhB,CADe;;AAE/B,wBAAIH,OAAO,CAACD,MAAR,KAAmB,CAAvB,EAA0B;AAAEP,sBAAAA,WAAW,CAACQ,OAAO,CAAC,CAAD,CAAP,CAAWI,SAAZ,CAAX;AAAmC;AAClE;;AAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADA;;AAAA,wBACeX,WADf;AAAA;AAAA;AAAA;;AAWAA,MAAAA,WAAW;AACd,KAZD,CAYE,OAAOY,KAAP,EAAc,CAAE;AACrB,GAdQ,EAcN,EAdM,CAAT;AAgBA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,EAGI,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,EAII,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,EAKI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALJ,EAMI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANJ,EAOKd,QAAQ,IAAI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEA,QAAlB;AAA4B,IAAA,SAAS,EAAEJ,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPjB,EAQI,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IARJ,EASI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATJ,CADJ;AAaH,CAhCD;;AAkCA,eAAeG,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\n\nimport Introduction from 'components/Introduction'\nimport Ancestral from 'components/Ancestral'\nimport Ingredients from 'components/Ingredients'\nimport Science from 'components/Science'\nimport Journey from 'components/Journey'\nimport Privacy from 'components/Privacy'\nimport Survey, { SURVEY_QUESTIONS } from 'components/Survey'\nimport Symbiome from 'components/Symbiome'\nimport Footer from 'components/Footer'\n\nconst Home = () => {\n    // Pull down the surveyId to use\n    const [surveyId, setSurveyId] = useState(null)\n    useEffect(() => {\n        try {\n            async function getSurveyId() {\n                const response = await fetch('https://api.symbiome.co/api/v1/surveys?source=postgres')\n                if (response.status === 200) {\n                    const {surveys} = await response.json()\n                    if (surveys && surveys.length > 0) {\n                        const targets = surveys.filter(x => x.name === 'Signup Survey')\n                        if (targets.length === 1) { setSurveyId(targets[0].source_id) }\n                    }\n                }\n            }\n            getSurveyId()\n        } catch (error) {}\n    }, [])\n\n    return (\n        <div>\n            <Introduction />\n            <Ancestral />\n            <Ingredients />\n            <Science />\n            <Journey />\n            <Privacy />\n            {surveyId && <Survey surveyId={surveyId} questions={SURVEY_QUESTIONS} />}\n            <Symbiome />\n            <Footer />\n        </div>\n    )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}