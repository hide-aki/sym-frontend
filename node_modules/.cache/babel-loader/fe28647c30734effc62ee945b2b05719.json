{"ast":null,"code":"import _regeneratorRuntime from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/josh/Projects/symbiome/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/josh/Projects/symbiome/src/views/Survey/Survey.js\";\nimport React, { useState, useEffect } from 'react';\nimport Survey, { SURVEY_QUESTIONS } from 'components/Survey';\n\nvar Home = function Home() {\n  // Pull down the surveyId to use\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      surveyId = _useState2[0],\n      setSurveyId = _useState2[1];\n\n  useEffect(function () {\n    try {\n      var getSurveyId =\n      /*#__PURE__*/\n      function () {\n        var _ref = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee() {\n          var response, _ref2, surveys, targets;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  _context.next = 2;\n                  return fetch('https://api.symbiome.co/api/v1/surveys?source=postgres');\n\n                case 2:\n                  response = _context.sent;\n\n                  if (!(response.status === 200)) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.next = 6;\n                  return response.json();\n\n                case 6:\n                  _ref2 = _context.sent;\n                  surveys = _ref2.surveys;\n\n                  if (surveys && surveys.length > 0) {\n                    targets = surveys.filter(function (x) {\n                      return x.name === 'Signup Survey';\n                    });\n\n                    if (targets.length === 1) {\n                      setSurveyId(targets[0].source_id);\n                    }\n                  }\n\n                case 9:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function getSurveyId() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      getSurveyId();\n    } catch (error) {}\n  }, []);\n  return React.createElement(React.Fragment, null, surveyId && React.createElement(Survey, {\n    surveyId: surveyId,\n    questions: SURVEY_QUESTIONS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }));\n};\n\nexport default Home;","map":{"version":3,"sources":["/Users/josh/Projects/symbiome/src/views/Survey/Survey.js"],"names":["React","useState","useEffect","Survey","SURVEY_QUESTIONS","Home","surveyId","setSurveyId","getSurveyId","fetch","response","status","json","surveys","length","targets","filter","x","name","source_id","error"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,MAAP,IAAiBC,gBAAjB,QAAyC,mBAAzC;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACf;AADe,kBAEiBJ,QAAQ,CAAC,IAAD,CAFzB;AAAA;AAAA,MAERK,QAFQ;AAAA,MAEEC,WAFF;;AAGfL,EAAAA,SAAS,CAAC,YAAM;AACZ,QAAI;AAAA,UACeM,WADf;AAAA;AAAA;AAAA;AAAA;AAAA,iCACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAC2BC,KAAK,CAAC,wDAAD,CADhC;;AAAA;AACUC,kBAAAA,QADV;;AAAA,wBAEQA,QAAQ,CAACC,MAAT,KAAoB,GAF5B;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAGgCD,QAAQ,CAACE,IAAT,EAHhC;;AAAA;AAAA;AAGeC,kBAAAA,OAHf,SAGeA,OAHf;;AAIQ,sBAAIA,OAAO,IAAIA,OAAO,CAACC,MAAR,GAAiB,CAAhC,EAAmC;AACzBC,oBAAAA,OADyB,GACfF,OAAO,CAACG,MAAR,CAAe,UAAAC,CAAC;AAAA,6BAAIA,CAAC,CAACC,IAAF,KAAW,eAAf;AAAA,qBAAhB,CADe;;AAE/B,wBAAIH,OAAO,CAACD,MAAR,KAAmB,CAAvB,EAA0B;AAAEP,sBAAAA,WAAW,CAACQ,OAAO,CAAC,CAAD,CAAP,CAAWI,SAAZ,CAAX;AAAmC;AAClE;;AAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADA;;AAAA,wBACeX,WADf;AAAA;AAAA;AAAA;;AAWAA,MAAAA,WAAW;AACd,KAZD,CAYE,OAAOY,KAAP,EAAc,CAAE;AACrB,GAdQ,EAcN,EAdM,CAAT;AAgBA,SACI,0CACKd,QAAQ,IAAI,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAEA,QAAlB;AAA4B,IAAA,SAAS,EAAEF,gBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADjB,CADJ;AAKH,CAxBD;;AA0BA,eAAeC,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport Survey, { SURVEY_QUESTIONS } from 'components/Survey'\n\nconst Home = () => {\n    // Pull down the surveyId to use\n    const [surveyId, setSurveyId] = useState(null)\n    useEffect(() => {\n        try {\n            async function getSurveyId() {\n                const response = await fetch('https://api.symbiome.co/api/v1/surveys?source=postgres')\n                if (response.status === 200) {\n                    const {surveys} = await response.json()\n                    if (surveys && surveys.length > 0) {\n                        const targets = surveys.filter(x => x.name === 'Signup Survey')\n                        if (targets.length === 1) { setSurveyId(targets[0].source_id) }\n                    }\n                }\n            }\n            getSurveyId()\n        } catch (error) {}\n    }, [])\n\n    return (\n        <>\n            {surveyId && <Survey surveyId={surveyId} questions={SURVEY_QUESTIONS} />}\n        </>\n    )\n}\n\nexport default Home\n"]},"metadata":{},"sourceType":"module"}